/* Definimos las variables de colores y estilos que usaremos en toda la página */
:root {
    --primary-color: #6C47FF;  /* Color principal (morado) para botones y elementos destacados */
    --secondary-color: #F0EDFF;  /* Color secundario (morado claro) para fondos sutiles */
    --text-color: #FFFFFF;  /* Color del texto (blanco) */
    --bg-color: #343541;  /* Color de fondo principal (gris oscuro) */
    --sidebar-bg: #202123;  /* Color de fondo de la barra lateral (negro grisáceo) */
    --border-color: #444654;  /* Color de los bordes (gris) */
    --user-msg-bg: #0a84ff;  /* Color de fondo para mensajes del usuario (azul) */
    --ai-msg-bg: #444654;  /* Color de fondo para mensajes de la IA (gris) */
    --hover-color: #5432d3;  /* Color para efectos al pasar el ratón (morado más oscuro) */
}
[data-theme="light"] {
    --primary-color: #6C47FF; /* Morado */
    --secondary-color: #EDEAFF; /* Morado más suave */
    --text-color: #000000; /* Negro */
    --bg-color: #FFFFFF; /* Blanco */
    --sidebar-bg: #F5F5F5; /* Gris claro */
    --border-color: #DDDDDD; /* Gris más suave */
    --user-msg-bg: #509beb; /* Azul más fuerte */
    --ai-msg-bg: #E0E0E0; /* Gris más claro */
    --hover-color: #4A2BAF; /* Morado más oscuro */
    --color-user-message:#FFFFFF;
}
[data-theme="dark"] {
    --primary-color: #8A6CFF;  /* Morado suave, menos saturado */
    --secondary-color: #E0DAFF;  /* Morado claro para fondos suaves */
    --text-color: #E4E6EB;  /* Blanco suave, menos agresivo para la vista */
    --bg-color: #1E1F25;  /* Gris oscuro azulado, menos agresivo que negro puro */
    --sidebar-bg: #16171D;  /* Un tono más oscuro para la barra lateral */
    --border-color: #3A3B3C;  /* Gris más suave para bordes */
    --user-msg-bg: #007AFF;  /* Azul vibrante pero no agresivo */
    --ai-msg-bg: #2E2F36;  /* Gris neutro para mensajes de la IA */
    --hover-color: #735DD0;  /* Un morado más brillante para efectos */;
    --color-user-message:#FFFFFF;
}

/* la luna y el sol chiquititos*/
#theme-icon {
    width: 32px;  /* Ajusta el tamaño según necesites */
    height: 30px;
}
#toggle-theme {
    background: none;  /* Quita el fondo */
    border: none;      /* Quita el borde */
    padding: 5px;      /* Ajusta el espacio si es necesario */
    cursor: pointer;   /* Mantiene el cursor de botón */
    position: absolute;
    top: 9px;
    right: 16px;
    z-index: 10;
}

/* Reseteo básico para todos los elementos: quita márgenes, padding y establece el modelo de caja */
* {
    margin: 0;  /* Elimina todos los márgenes */
    padding: 0;  /* Elimina todos los rellenos */
    box-sizing: border-box;  /* Hace que el ancho incluya el padding y los bordes */
    font-family: "Segoe UI", Roboto, sans-serif;  /* Establece las fuentes a utilizar */
}

/* Estilo para el cuerpo de la página */
body {
    display: flex;  /* Usa flexbox para organizar los elementos */
    height: 100vh;  /* Altura al 100% de la ventana */
    background-color: var(--bg-color);  /* Color de fondo gris oscuro */
    color: var(--text-color);  /* Color de texto blanco */
}

/* Estilos para la barra lateral */
.sidebar {
    width: 250px;  /* Ancho fijo de la barra lateral */
    background-color: var(--sidebar-bg);  /* Fondo más oscuro que el principal */
    display: flex;  /* Usa flexbox para organizar elementos internos */
    flex-direction: column;  /* Coloca los elementos en columna (uno debajo de otro) */
    padding: 16px;  /* Espacio interno alrededor del contenido */
    border-right: 1px solid var(--border-color);  /* Borde derecho para separar del contenido */
}

/* Agrega texto "DrArtificial" después del elemento con clase .logo en la barra lateral */
.sidebar .logo::after {
    content: "DrArtificial";  /* Texto a mostrar */
    text-indent: 0;  /* Sin indentación */
    display: block;  /* Muestra como bloque */
}

/* Estilo para el botón de nuevo chat */
.new-chat-btn {
    display: flex;  /* Permite organizar icono y texto */
    align-items: center;  /* Centra verticalmente el contenido */
    gap: 8px;  /* Espacio entre el icono y el texto */
    background-color: var(--primary-color);  /* Fondo morado */
    color: white;  /* Texto blanco */
    border: none;  /* Sin borde */
    border-radius: 8px;  /* Bordes redondeados */
    padding: 12px;  /* Espacio interno */
    font-size: 14px;  /* Tamaño de fuente */
    font-weight: 500;  /* Grosor de fuente (semi-negrita) */
    cursor: pointer;  /* Cambia el cursor a mano al pasar sobre él */
    transition: background-color 0.3s ease;  /* Animación suave al cambiar color */
    margin-bottom: 16px;  /* Espacio debajo del botón */
    width: 100%;  /* Ocupa todo el ancho disponible */
    justify-content: center;  /* Centra horizontalmente el contenido */
}

/* Cambia el color de fondo del botón al pasar el ratón */
.new-chat-btn:hover {
    background-color: var(--hover-color);  /* Morado más oscuro al pasar el ratón */
}

/* Estilo para la sección de historial de chats */
.history {
    flex: 1;  /* Ocupa el espacio disponible */
    overflow-y: auto;  /* Permite scroll vertical si hay muchos elementos */
    display: flex;  /* Organiza los elementos con flexbox */
    flex-direction: column;  /* Elementos uno debajo de otro */
    gap: 8px;  /* Espacio entre elementos */
    margin-bottom: 16px;  /* Espacio debajo de la sección */
}

/* Estilo para cada elemento del historial de chats */
.chat-item {
    display: block; /* Mantiene el comportamiento de bloque */
    padding: 10px;  /* Espacio interno */
    border-radius: 8px;  /* Bordes redondeados */
    cursor: pointer;  /* Cursor tipo mano */
    transition: background-color 0.2s ease;  /* Animación suave */
    font-size: 14px;  /* Tamaño de texto */
    white-space: nowrap;  /* Evita saltos de línea */
    overflow: hidden;  /* Oculta el texto que no cabe */
    text-overflow: ellipsis;  /* Muestra "..." si el texto no cabe */
    border-left: 3px solid transparent;  /* Borde izquierdo invisible por defecto */
    text-decoration: none; /* Quita el subrayado */
    color: inherit; /* Usa el color del texto del contenedor padre */
}

/* Efecto al pasar el ratón sobre un elemento del historial */
.chat-item:hover {
    background-color: rgba(255, 255, 255, 0.1);  /* Fondo ligeramente blanco */
    border-left-color: var(--primary-color);  /* Borde izquierdo morado */
}

/* Contenedor principal donde está el chat */
.main {
    flex: 1;  /* Ocupa todo el espacio disponible */
    display: flex;  /* Usa flexbox */
    flex-direction: column;  /* Elementos uno debajo de otro */
    height: 100%;  /* Altura completa */
}

/* Contenedor unificado del chat */
.chat-box {
    flex: 1;  /* Ocupa el espacio disponible */
    display: flex;  /* Usa flexbox */
    flex-direction: column;  /* Mensajes y entrada uno debajo de otro */
    width: 100%;  /* Ancho completo */
    height: calc(100vh - 60px);  /* Altura = altura de ventana menos altura del header */
    overflow: hidden;  /* Oculta contenido que se salga */
}

/* Área de mensajes del chat */
.chat-container {
    flex: 1;  /* Ocupa el espacio disponible */
    overflow-y: auto;  /* Permite scroll vertical */
    padding: 20px;  /* Espacio interno */
    display: flex;  /* Usa flexbox */
    flex-direction: column;  /* Mensajes uno debajo de otro */
    gap: 12px;  /* Espacio entre mensajes */
    /*scroll-behavior: smooth;  /* Scroll suave */
    margin: 0 auto;  /* Centrado horizontal */
    width: 100%;  /* Ancho completo */
    max-width: 900px;  /* Ancho máximo para mejor legibilidad */
}

.welcome-container {
    position: absolute;
    top: 46%;
    left: 55%;
    transform: translate(-50%, -50%);
    width: 100%;
    text-align: center;
}

#nuevo-chat-mensaje {
    font-size: 3rem;
    color: #666;
    font-weight: bold;
}

/* Estilos para modo oscuro */
[data-theme='dark'] .welcome-message {
    color: #c5c5c5;
}

/* Estilo común para todos los mensajes (usuario y AI) */
.UserMessage, .AiMessage {
    display: flex;  /* Usa flexbox para avatar y contenido */
    gap: 12px;  /* Espacio entre avatar y texto */
    margin: 5px 0;  /* Margen arriba y abajo */
    align-items: flex-start;  /* Alinea elementos al inicio */
    cursor: pointer;  /* Cursor tipo mano */
    width: 100%;  /* Ancho completo */
}

/* Posiciona los mensajes del usuario a la derecha */
.UserMessage {
    justify-content: flex-end;  /* Alinea a la derecha */
}

/* Posiciona los mensajes de la IA a la izquierda */
.AiMessage {
    justify-content: flex-start;  /* Alinea a la izquierda */
}

/* Estilo para los avatares */
.avatar {
    width: 32px;  /* Ancho fijo */
    height: 32px;  /* Alto fijo (cuadrado) */
    min-width: 32px;  /* Ancho mínimo para evitar que se encoja */
    border-radius: 6px;  /* Bordes redondeados */
    background-color: var(--primary-color);  /* Fondo morado */
    display: flex;  /* Usa flexbox */
    align-items: center;  /* Centra verticalmente */
    justify-content: center;  /* Centra horizontalmente */
    color: white;  /* Texto blanco */
    font-weight: bold;  /* Texto en negrita */
}

/* Color especial para el avatar del usuario */
.avatarUser {
    background-color: var(--user-msg-bg);  /* Fondo azul */
}
.avatarIa {
    background-color: var(--user-msg-bg);  /* Fondo azul */
}

/* Estilo para el contenido de los mensajes */
.message-content {
    padding: 10px;  /* Espacio interno */
    border-radius: 6px;  /* Bordes redondeados */
    background-color: var(--ai-msg-bg);  /* Fondo gris (para mensajes de la IA) */
    line-height: 1.5;  /* Espacio entre líneas de texto */
    max-width: 80%;  /* Ancho máximo para no ocupar toda la pantalla */
}

/* Color especial para los mensajes del usuario */
.UserMessage .message-content {
    background-color: var(--user-msg-bg);  /* Fondo azul */
}

.UserMessage .message-bubble {
    color: var(--color-user-message); /* O usa un color fijo como #FFFFFF */
}

/* Contenedor del área de entrada de texto */
.input-container {
    padding: 16px;  /* Espacio interno */
    border-top: 1px solid var(--border-color);  /* Borde superior */
    background-color: var(--sidebar-bg);  /* Fondo oscuro */
    width: 100%;  /* Ancho completo */
}

  
/* Posición centrada */
.input-container.centered {
    position: relative;
    top: -40%;
    border-top: 1px solid transparent;  /* Borde superior se quita*/
    background-color: transparent;
}




/* Caja que contiene el textarea y el botón de enviar */
.input-box {
    display: flex;  /* Usa flexbox */
    border: 1px solid var(--border-color);  /* Borde */
    border-radius: 8px;  /* Bordes redondeados */
    padding: 8px;  /* Espacio interno */
    background-color: var(--bg-color);  /* Fondo */
    margin: 0 auto;  /* Centrado horizontal */
    max-width: 900px;  /* Ancho máximo igual que el chat */
}

/* Estilo para el área de texto */
textarea {
    flex: 1;  /* Ocupa el espacio disponible */
    border: none;  /* Sin borde */
    outline: none;  /* Sin contorno al hacer focus */
    resize: none;  /* No permite cambiar tamaño */
    padding: 8px;  /* Espacio interno */
    font-size: 16px;  /* Tamaño de texto */
    min-height: 24px;  /* Altura mínima */
    background-color: transparent;  /* Fondo transparente */
    color: var(--text-color);  /* Texto blanco */
}

/* Estilo para el botón de enviar */
.send-btn {
    padding: 8px 16px;  /* Espacio interno */
    background-color: var(--primary-color);  /* Fondo morado */
    color: white;  /* Texto blanco */
    border: none;  /* Sin borde */
    border-radius: 6px;  /* Bordes redondeados */
    cursor: pointer;  /* Cursor tipo mano */
    font-weight: 500;  /* Texto semi-negrita */
    transition: background 0.3s;  /* Animación suave */
}

/* Efecto al pasar el ratón sobre el botón de enviar */
.send-btn:hover {
    background-color: var(--hover-color);  /* Morado más oscuro */
}

/* Estilo para el botón deshabilitado */
.send-btn:disabled {
    background-color: var(--border-color);  /* Fondo gris */
    cursor: not-allowed;  /* Cursor de prohibido */
}

/* Estilo para la sección de perfil en la barra lateral */
.profile {
    display: flex;  /* Usa flexbox */
    align-items: center;  /* Centra verticalmente */
    gap: 8px;  /* Espacio entre foto y nombre */
    padding: 12px;  /* Espacio interno */
    border-top: 1px solid var(--border-color);  /* Borde superior */
    margin-top: auto;  /* Empuja al final de la barra lateral */
}

/* Imagen de perfil */
.profile-img {
    width: 24px;  /* Ancho */
    height: 24px;  /* Alto */
    border-radius: 50%;  /* Forma circular */
    background-color: var(--primary-color);  /* Fondo morado */
}

/* Estilos para la cabecera */
.header {
    position: relative;
    padding: 16px;
    text-align: center;
    border-bottom: 1px solid var(--border-color);
}

/* Estilo para el título en la cabecera */
.title {
    font-size: 18px;  /* Tamaño de texto */
    font-weight: bold;  /* Texto en negrita */
}

/* Estilos para la pantalla de bienvenida */
.welcome {
    display: flex;  /* Usa flexbox */
    flex-direction: column;  /* Elementos en columna */
    align-items: center;  /* Centra horizontalmente */
    justify-content: center;  /* Centra verticalmente */
    gap: 16px;  /* Espacio entre elementos */
    padding: 40px;  /* Espacio interno */
}

/* Logotipo en la pantalla de bienvenida */
.logo {
    font-size: 48px;  /* Tamaño de texto grande */
    width: 80px;  /* Ancho */
    height: 80px;  /* Alto */
    border-radius: 16px;  /* Bordes redondeados */
    background-color: var(--primary-color);  /* Fondo morado */
    display: flex;  /* Usa flexbox */
    align-items: center;  /* Centra verticalmente */
    justify-content: center;  /* Centra horizontalmente */
}

/* Ajustes para pantallas pequeñas (móviles) */
@media (max-width: 768px) {
    .sidebar {
        display: none;  /* Oculta la barra lateral */
    }
    
    .chat-container, .input-box {
        max-width: 100%;  /* Usa todo el ancho disponible */
    }
}


/* microfono*/
/* Efecto de pulsación cuando el micrófono está activo */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(108, 71, 255, 0.6);
    }
    70% {
        box-shadow: 0 0 15px 10px rgba(108, 71, 255, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(108, 71, 255, 0);
    }
}

/* Efecto de resplandor suave */
@keyframes glow {
    0% {
        box-shadow: 0 0 5px rgba(108, 71, 255, 0.6);
    }
    50% {
        box-shadow: 0 0 15px rgba(108, 71, 255, 1);
    }
    100% {
        box-shadow: 0 0 5px rgba(108, 71, 255, 0.6);
    }
}

/* Estilo normal del botón */
.mic-btn {
    margin-right: 10px;
    padding: 12px;
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-color);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: transform 0.2s ease-in-out;
}

/* Cuando el micrófono está activo */
.mic-btn.active {
    background-color: var(--primary-color);
    color: white;
    animation: pulse 1.5s infinite, glow 1.5s infinite alternate;
    transform: scale(1.1); /* Hace que crezca un poco */
}

.mic-btn:hover {
    background-color: var(--border-color);
}

/* Estilo personalizado para scrollbar */
::-webkit-scrollbar {
    width: 8px;  /* Ancho de la scrollbar */
}

::-webkit-scrollbar-track {
    background: transparent;  /* Fondo transparente para la pista */
}

::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);  /* Color para modo oscuro */
    border-radius: 4px;  /* Bordes redondeados */
}

/* Scrollbar para tema claro */
[data-theme="light"] ::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);  /* Color para modo claro */
}

/* Scrollbar para tema oscuro */
[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.15);  /* Color para modo oscuro */
}

/* Efecto hover para la scrollbar */
::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.3);  /* Color al pasar el cursor en modo oscuro */
}

[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.3);  /* Color al pasar el cursor en modo claro */
}

/* Estilos para elementos de Markdown dentro de los mensajes */
.message-bubble {
    line-height: 1.6;
}

.message-bubble h1, 
.message-bubble h2, 
.message-bubble h3, 
.message-bubble h4 {
    margin-top: 16px;
    margin-bottom: 8px;
}

.message-bubble ul, 
.message-bubble ol {
    padding-left: 20px;
    margin-bottom: 10px;
}

.message-bubble p {
    margin-bottom: 10px;
}

.message-bubble code {
    background-color: rgba(0, 0, 0, 0.1);
    padding: 2px 4px;
    border-radius: 4px;
    font-family: monospace;
}

.message-bubble pre {
    background-color: rgba(0, 0, 0, 0.1);
    padding: 10px;
    border-radius: 4px;
    overflow-x: auto;
    margin-bottom: 10px;
}

.message-bubble pre code {
    background-color: transparent;
    padding: 0;
}

.message-bubble table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 10px;
}

.message-bubble th, 
.message-bubble td {
    border: 1px solid var(--border-color);
    padding: 6px;
}

.chat-element-container {
    display: flex;
    align-items: center;
    width: 100%;
    justify-content: space-between;
}

.chat-element-container.active {
    background-color: rgba(52, 53, 65, 0.5);
    border-radius: 6px;
}

/* Para modo oscuro */
[data-theme='dark'] .chat-element-container.active {
    background-color: rgba(255, 255, 255, 0.1);
}

/* Estilo para el botón de borrar */
.chat-delete {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chat-delete img {
    width: 18px;
    height: 18px;
}

/* Ajuste para el chat item */
.chat-item {
    flex: 1;
    margin-right: 5px;
}

/* Estilos para diagramas Mermaid */
.mermaid {
    background-color: rgba(0, 0, 0, 0.05);
    padding: 15px;
    border-radius: 8px;
    margin: 15px 0;
    text-align: center;
}

[data-theme="dark"] .mermaid {
    background-color: rgba(255, 255, 255, 0.05);
}

/* Estilos para el indicador de "pensando" */
.pensando-indicador {
    display: flex;
    align-items: center;
    gap: 5px;
}

.pensando-punto {
    width: 8px;
    height: 8px;
    background-color: var(--text-color);
    border-radius: 50%;
    opacity: 0.7;
    animation: pulsar 1.5s infinite ease-in-out;
}

.pensando-punto:nth-child(2) {
    animation-delay: 0.2s;
}

.pensando-punto:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes pulsar {
    0%, 100% { transform: scale(0.8); opacity: 0.5; }
    50% { transform: scale(1.2); opacity: 1; }
}

.no_hay_chats{
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    font-size: 1.5rem;
    color: #666;
}